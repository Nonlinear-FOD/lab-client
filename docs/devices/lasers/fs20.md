# NKTP Aeropulse FS20

- Client: `clients.nktp_fs20_client.AeropulseFS20Client`
- Server driver: `devices.nktp_fs20.AeropulseFS20`

## Quickstart

```python
from clients.nktp_fs20_client import AeropulseFS20Client

base = "http://127.0.0.1:5000"
user = "alice"

# auto_open=True (default) opens the port on connect
fs20 = AeropulseFS20Client(base, "nktp_fs20_1", port=3, user=user)

# Emission control
fs20.enable()          # or fs20.emission = True
fs20.disable()

# Power controls (0–100 %, 0.1% resolution)
fs20.aom2_power_percentage = 25.5
fs20.booster_power_percentage = 50

# Repetition rate (Hz) and readback
fs20.reprate_hz = 10_000_000
print(fs20.peak_power)

# Pulse stretcher params
fs20.beta2_param = 0.1
fs20.beta3_param = 0.0
fs20.beta4_param = -0.05
fs20.wl_offset = 0.0

# Manual port control when auto_open=False
fs20.close()  # close port on server
fs20.open()

fs20.close()  # drop the server instance
```

## Notes

- `port` accepts an int (`3` -> `COM3`) or a string (`"COM4"`).
- Power registers use 0.1% resolution; values are clamped to 0–100%.
- `reprate_hz` uses 1 mHz steps on the device (handled internally).

## API Reference

::: clients.nktp_fs20_client.AeropulseFS20Client
    options:
      show_source: false
      members_order: source
